
## 命名
如果你无法想出一个合适的名字，很可能意味着代码“坏味道”​、设计有问题。这时可以思考一下：是不是一个方法里实现了太多的功能？或者类的封装内聚性不够？又或者是你对问题的理解还不够透彻，需要获取更多的信息？
#### 变量
- 变量名应该是名词，能够正确地描述业务，有表达力
#### 函数
- 函数的命名要体现做什么，而不是怎么做。
#### 类
- 实体类承载了核心业务数据和核心业务逻辑，其命名要充分体现业务语义，并在团队内达成共识，如 Customer、Bank 和 Employee 等。
- 辅助类是辅佐实体类一起完成业务逻辑的，其命名要能够通过后缀来体现功能
#### 包名
- 包名应该能够反映一组类在更高抽象层次上的联系
- 包的命名要适中，不能太抽象，也不能太具体
#### 模块名
- 模块（Module）主要是指 Maven 中的 Module，相对于包来说，模块的粒度更大，通常一个模块中包含了多个包。

#### 注释
如果注释是为了阐述代码背后的意图，那么这个注释是有用的；如果注释是为了复述代码功能，那么就要小心了，这样的注释往往意味着“坏味道”

## 规范

信息熵，就是一条信息的信息量大小和它的不确定性之间的关系。举个例子，假设消息由符号 A、C、G 和 T 组成，如果序列高度有序，例如“A A A A A A A … A”​，则熵为零。而完全随机的序列，例如“G A T A C G A … A”​，熵值达到最大。

#### 异常
##### 异常的坏处

（1）代码中到处充斥着异常捕获的 try/catch 的代码，搞乱了代码结构，把错误处理与正常流程混为一谈，严重影响了代码的可读性。

（2）异常处理不统一，有的场景对外直接抛出异常，有的场景对外返回错误码，这种不一致性让服务的调用方摸不着头脑，增加了服务的使用成本和沟通成本。
##### 为什么不Checked Exception

因为它破坏了开闭原则。如果你在一个方法中抛出了 Checked Exception，而 catch 语句在3个层级之上，那么你就要在 catch 语句和抛出异常处理之间的每个方法签名中声明该异常。这意味着在软件中修改较低层级时，都将波及较高层级，修改好的模块必须重新构建、发布，即便它们自身所关注的任何东西都没有被改动过。

这也是 C#、Python 和 Ruby 语言都不支持 Checked Exception 的原因，因为其依赖成本要高于显式声明带来的收益。

#### 错误码

错误码非常重要，一定要在系统搭建之初就制定好相应的规范，否则当系统上线后，系统的错误码已经对前端或者外部系统进行了透出，再重构的可能性就很小了。

- 编号错误码：Oracle 中总共有2000多个异常，其编码规则是 ORA-00001~ORA-02149
- 显性化错误码：
#### 埋点

数据处理流程![](attachments/Pasted%20image%2020240814112614.png)